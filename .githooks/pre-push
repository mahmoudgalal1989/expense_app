#!/bin/sh

# Exit on any error
set -e

echo "ğŸš€ Running pre-push checks..."

# 1. Get Flutter dependencies
echo "ğŸ“¦ Getting Flutter dependencies..."
flutter pub get

# 2. Run Flutter analyze
echo "ğŸ” Running Flutter analyze..."
flutter analyze --fatal-infos --fatal-warnings

# 3. Run Dart format check
echo "âœ¨ Checking code formatting..."
dart format --set-exit-if-changed .

# 4. Run tests
echo "ğŸ§ª Running tests..."
flutter test --coverage

echo "âœ… All pre-push checks passed!"
echo "   Pushing to remote..."

exit 0
